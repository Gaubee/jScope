!function(n,t){if("function"==typeof define&&define.amd)define([],function(){return t(n)});else if("object"==typeof exports){var e=Object.create(null);t(e);for(var r in e)exports[r]=n[r]=e[r]}else t(n)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){function t(n,t){return n[n.length]=t,n}function e(n,t){for(var e=0,r=n.length;r>e;e+=1)t(n[e],e)}function r(n,t,e){return X.call(n,t,e)}function i(n,t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}function u(n,t){return n.hasOwnProperty(t)&&n[t]}function o(n,t){return Y.call(n,t)}function f(n,t){return n instanceof t}function a(n){return(n||"")+Math.random().toString(36).substr(2)}function c(n){return Z[H]=n,new Z}function s(n){return n[n.length-1]}function l(){return this.V&&this.V.valueOf()}function h(){return this.V+""}function v(n){return f(n,v)?n:_[typeof n](n)}function p(){throw TypeError("Cannot convert undefined or null to object")}function V(n,t){t||(t={});var e=this;e.id=a("SC"),e.E={},e.C=[],e.R=n||{};var r=t.store;e.O=f(r,q)?r:q(f(r,Object)?r:{}),e.setParent(t.parent),e.returner=null,e.B=null;var i=t.onerror;f(i,K)&&e.on("error",i)}function g(n,t){var e=this;return(e.O.has(n)?e.O:e.P).get(n,t)}function d(n,t){return this.O.get(n,t)}function y(n,t){var e=this;return(e.O.has(n)?e.O:e.P).set(n,t)}function b(n,t){return this.O.set(n,t)}function O(n){var t=this;return(t.O.has(n)?t.O:t.P).TypeOf(n)}function w(n){return this.O.TypeOf(n)}function C(n){var t=this;return(t.O.has(n)?t.O:t.P).Del(n)}function S(n){return this.O.Del(n)}function T(){throw ReferenceError("Scope objects has been destroyed.")}function P(n){this.V=n}function G(n){return n?$true:$false}function j(n,t){this.V=n,this.A=t}function m(n,t){return j(n,t)}function E(n){this.V=n}function D(){return on}function F(n){this.V=n}function N(n){var t;return t=isNaN(n)?fn:n===1/0?an:n===-(1/0)?cn:new F(n)}function x(n){this.V=n,this.G=null,this.S=null,this.C={}}function A(n){var t=this;return o(t.V,n)||o(t.G,n)||o(t.S,n)}function R(n){var t=this,e=t.G,r=t.V;if(o(e,n))var i=e[n].call(r,n);else i=r[n];return i}function $(n,t,e){var r=this,i=r.S,u=r.V;if(o(i,n))i[n].call(u,n,t);else{var e=r.C;e[n]=e,u[n]=t}return t}function B(n,t){t||(t={});var r={};return e(["enumerable","configurable","writable"],function(e){r[e]=!!(o(t,e)?t:n)[e]}),r}function q(n){return null===n?on:new x(n)}function k(n){this.V=n}function M(n){return new k(n)}function U(n){this.V=n}function z(){return vn}var H="prototype",I="valueOf",J="toString",K=Function,L=(Array,Object),Q=(RegExp,!0),W=!1,X=Array[H].slice,Y=(String[H],L.hasOwnProperty),Z=K();"a"!="a"[0];V.Base=v;var _={string:M,"boolean":G,number:N,"function":m,undefined:z,object:function(n){return(n?q:D)(n)}},nn=v[H]={has:function(n){return o(this.V,n)},get:function(n,t){var e=this.V[n];return f(e,v)||(e=vn),t?e.valueOf():e},set:function(n,t){return this.V[n]=v(t)},TypeOf:function(){return this.constructor.TypeofValue},destory:function(){delete this.V},equal:function(n){return this.V===(f(n,v)?n.V:n)},like:function(n){return this.V==(f(n,v)?n.V:n)}};nn[I]=l,nn[J]=h,n.jScope=V;var tn=V.prototype={};tn.on=function(n,e){var r=this,i=r.E;return t(i[n]||(i[n]=[]),e),r},tn.off=function(n,t){var e=this,r=e.E;return i(r[n]||(r[n]=[]),t),e},tn.emit=function(n){var t=this,i=u(t.E,n);if(i){var o=arguments.length>1&&r(arguments,1);e(i,function(n){o?n.apply(t,o):n.call(this)})}return t},tn.push=function(n){var e=this,r=new V({},{parent:e});return t(e.C,r),en=r,r},tn.pop=function(n){var t=this,e=s(t.C);return e&&e.destroy(n)},tn.setParent=function(n){var t=this;(t.P=n||null)?(t.get=g,t.set=y,t.TypeOf=O,t.Del=C):(t.get=d,t.set=b,t.TypeOf=w,t.Del=S)},tn.get=g,tn.set=y,tn.Var=b,tn.TypeOf=w,tn.Del=S,tn.destroy=function(n){var t=this;t.E=null,e(t.C,function(n){n.destroy()}),t.C=null,t.R=null,t.O=null,t.P&&(en=t.P,i(en.C,t),t.P=null);for(var r in tn)t[r]=T;return t.returner=n,n};var en=V.global=new V(n);V.current=function(){return en},V.Boolean=G,P.TypeofValue="string";P[H]=c(nn);$true=new P(Q),$false=new P(W),V.Function=m,j.TypeofValue="function";var rn=j[H]=c(nn);rn.run=function(n,t){var e=this;e.V.apply(n,t)},V.Null=D,E.TypeofValue="object";var un=E[H]=c(nn);un[I]=p,un[J]=p;var on=new E(null);V.Number=N,F.TypeofValue="number";var fn=(F[H]=c(nn),new F(NaN));fn.equal=function(){return W};var an=new F(1/0),cn=new F(-(1/0));V.Object=q,x.getProp=function(n,t){if(f(n,x)||f(n,M)||f(n,N))var e=n.get(t);else n&&(e=n[t]);return e},x.TypeofValue="object";var sn=x[H]=c(nn);sn.has=function(n){return o(this.C,n)},sn.get=function(n,t){var e=this;if(e.has(n))var r=e.G&&o(e.G,n)?e.G[n].call(e.V):e.V[n];else r=vn;return t?r?r.valueOf():r:v(r)},sn.set=function(n,t){var e=this,r=e.C[n];if(!r||(r.writable||!o(e.V,n))&&r.configurable){o(e.C,n)||(e.C[n]=B({writable:Q,enumerable:Q,configurable:Q}));var i=v(t);return e.S&&o(e.S,n)?e.S[n].call(e.V,t):e.V[n]=t,i}},sn.defGet=function(n,t,e){var r=this,i=r.G||(r.G={}),u=r.C;if(!(t instanceof Function))throw TypeError("getter must be an function.");var u=config[n];u&&!u.configurable||(config[n]=B(u,e),i[n]=t,delete r.V[n],r.get=R,r.has=A)},sn.defSet=function(n,t,e){var r=this,i=r.S||(r.S={}),u=r.C;if(!(t instanceof Function))throw TypeError("setter must be an function.");var o=u[n];o&&!o.configurable||(u[n]=B(o,e),i[n]=t,delete r.V[n],r.set=$,r.has=A)},sn.def=function(n,t){var e=this,r=e.V,t=e.C||{},i=t[n];if(!i||i.configurable){if(t[n]=B(i,t),o(r,n)&&i.writable)o(t,r)&&(r[n]=t.value),e.C=B(t);else if(i.configurable){if(o(t.get)){var u=e.S||(e.S={});f[n]=t.get}if(o(t.set)){var f=e.G||(e.G={});u[n]=t.set}e.C=B(t)}return e}},sn.Del=function(n){var t=this,e=t.C,r=t.V,i=t.G,u=t.S,f=Q;return o(e,n)&&(i&&delete i[n],u&&delete u[n],delete r[n],delete e[n]),f},V.String=M,k.TypeofValue="string";var ln=k[H]=c(nn);ln.get=function(n){var t=this,e=t.V;if(isFinite(n)&&n%1===0)var r=e.charAt(n);else r=e[n];return r},ln.set=function(n,t){var e=this,r=e.V;return isFinite(n)&&n%1===0||(r[n]=t),t},V.Undefined=z,U.TypeofValue="undefined";var hn=U[H]=c(nn);hn[I]=p,hn[J]=p;var vn=new U});
//# sourceMappingURL=jScope.min.js.map
