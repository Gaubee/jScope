!function(n,t){if("function"==typeof define&&define.amd)define([],function(){return t(n)});else if("object"==typeof exports){var e=Object.create(null);t(e);for(var r in e)exports[r]=n[r]=e[r]}else t(n)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){function t(n,t){return n[n.length]=t,n}function e(n,t){for(var e=0,r=n.length;r>e;e+=1)t(n[e],e)}function r(n,t,e){return X.call(n,t,e)}function i(n,t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}function u(n,t){return n.hasOwnProperty(t)&&n[t]}function o(n,t){return Y.call(n,t)}function f(n,t){return n instanceof t}function a(n){return(n||"")+Math.random().toString(36).substr(2)}function c(n){return Z[H]=n,new Z}function s(n){return n[n.length-1]}function l(){return this.V&&this.V.valueOf()}function h(){return this.V+""}function v(n){return f(n,v)?n:_[typeof n](n)}function p(){throw TypeError("Cannot convert undefined or null to object")}function g(n,t){t||(t={});var e=this;e.id=a("SC"),e.E={},e.C=[],e.R=n||{};var r=t.store;e.O=f(r,q)?r:q(f(r,Object)?r:{}),e.setParent(t.parent),e.returner=null,e.B=null;var i=t.onerror;f(i,K)&&e.on("error",i)}function V(n,t){var e=this,r=(e.O.has(n)?e.O:e.P).get(n,t);return f(r,j)&&r.T===e.O&&!r.S&&(r.T=e.getTopScope().O),r}function d(n,t){return this.O.get(n,t)}function y(n,t){var e=this;return(e.O.has(n)?e.O:e.P).set(n,t)}function b(n,t){return this.O.set(n,t)}function O(n){var t=this;return(t.O.has(n)?t.O:t.P).TypeOf(n)}function w(n){return this.O.TypeOf(n)}function S(n){var t=this;return(t.O.has(n)?t.O:t.P).Del(n)}function T(n){return this.O.Del(n)}function C(){throw ReferenceError("Scope objects has been destroyed.")}function P(n){this.V=n}function G(n){return n?$true:$false}function j(n,t){this.V=n,this.T=null,this.S=null}function m(n,t){return new j(n,t)}function E(n){this.V=n}function D(){return on}function F(n){this.V=n}function N(n){var t;return t=isNaN(n)?fn:n===1/0?an:n===-(1/0)?cn:new F(n)}function x(n){this.V=n||{},this.G=null,this.S=null,this.C={}}function R(n){var t=this;return o(t.V,n)||o(t.G,n)||o(t.S,n)}function $(n){var t=this,e=t.G,r=t.V;if(o(e,n))var i=e[n].call(r,n);else i=r[n];return i}function A(n,t,e){var r=this,i=r.S,u=r.V;if(o(i,n))i[n].call(u,n,t);else{var e=r.C;e[n]=e,u[n]=t}return t}function B(n,t){t||(t={});var r={};return e(["enumerable","configurable","writable"],function(e){r[e]=!!(o(t,e)?t:n)[e]}),r}function q(n){return null===n?on:new x(n)}function k(n){this.V=n}function M(n){return new k(n)}function U(n){this.V=n}function z(){return pn}var H="prototype",I="valueOf",J="toString",K=Function,L=(Array,Object),Q=(RegExp,!0),W=!1,X=Array[H].slice,Y=(String[H],L.hasOwnProperty),Z=K();"a"!="a"[0];g.Base=v;var _={string:M,"boolean":G,number:N,"function":m,undefined:z,object:function(n){return(n?q:D)(n)}},nn=v[H]={has:function(n){return o(this.V,n)},get:function(n,t){var e=this.V[n];return f(e,v)||(e=pn),t?e.valueOf():e},set:function(n,t){return this.V[n]=v(t)},TypeOf:function(){return this.constructor.TypeofValue},destory:function(){delete this.V},equal:function(n){return this.V===(f(n,v)?n.V:n)},like:function(n){return this.V==(f(n,v)?n.V:n)}};nn[I]=l,nn[J]=h,n.jScope=g;var tn=g.prototype={};tn.on=function(n,e){var r=this,i=r.E;return t(i[n]||(i[n]=[]),e),r},tn.off=function(n,t){var e=this,r=e.E;return i(r[n]||(r[n]=[]),t),e},tn.emit=function(n){var t=this,i=u(t.E,n);if(i){var o=arguments.length>1&&r(arguments,1);e(i,function(n){o?n.apply(t,o):n.call(this)})}return t},tn.getTopScope=function(){for(var n=this;n.P;)n=n.P;return n},tn.push=function(n){var e=this,r=new g({},{parent:e});return t(e.C,r),en=r,r},tn.pop=function(n){var t=this,e=s(t.C);return e&&e.destroy(n)},tn.setParent=function(n){var t=this;(t.P=n||null)?(t.get=V,t.set=y,t.TypeOf=O,t.Del=S):(t.get=d,t.set=b,t.TypeOf=w,t.Del=T)},tn.get=V,tn.set=y,tn.Var=b,tn.TypeOf=w,tn.Del=T,tn.destroy=function(n){var t=this;t.E=null,e(t.C,function(n){n.destroy()}),t.C=null,t.R=null,t.O=null,t.P&&(en=t.P,i(en.C,t),t.P=null);for(var r in tn)t[r]=C;return t.returner=n,n};var en=g.global=new g(n);g.current=function(){return en},g.Boolean=G,P.TypeofValue="string";P[H]=c(nn);$true=new P(Q),$false=new P(W),g.Function=m,j.TypeofValue="function";var rn=j[H]=c(nn);rn.run=function(){var n=this,t=r(arguments);n.V.apply(n.S||n.T,t)},g.Null=D,E.TypeofValue="object";var un=E[H]=c(nn);un[I]=p,un[J]=p;var on=new E(null);g.Number=N,F.TypeofValue="number";var fn=(F[H]=c(nn),new F(NaN));fn.equal=function(){return W};var an=new F(1/0),cn=new F(-(1/0));g.Object=q,x.getProp=function(n,t){if(f(n,x)||f(n,M)||f(n,N))var e=n.get(t);else n&&(e=n[t]);return e},x.TypeofValue="object";var sn=x[H]=c(nn);sn.has=function(n){return o(this.C,n)};var ln={writable:Q,enumerable:Q,configurable:Q};sn.get=function(n,t){var e=this;if(e.has(n))var r=e.G&&o(e.G,n)?e.G[n].call(e,n):e.V[n];else r=pn;return r=t?r?r.valueOf():r:v(r),f(r,j)&&(r.T=e),r},sn.set=function(n,t){var e=this,r=e.C[n];if(!r||(r.writable||!o(e.V,n))&&r.configurable){o(e.C,n)||(e.C[n]=B(ln));var i=v(t);return e.S&&o(e.S,n)?e.S[n].call(e,t,n):e.V[n]=t,i}},sn.defGet=function(n,t,e){var r=this,i=r.G||(r.G={}),u=r.C;if(!(t instanceof Function))throw TypeError("getter must be an function.");var u=config[n]||ln;u.configurable&&(config[n]=B(u,e),i[n]=t,delete r.V[n],r.get=$,r.has=R)},sn.defSet=function(n,t,e){var r=this,i=r.S||(r.S={}),u=r.C;if(!(t instanceof Function))throw TypeError("setter must be an function.");var o=u[n]||ln;o.configurable&&(u[n]=B(o,e),i[n]=t,delete r.V[n],r.set=A,r.has=R)},sn.def=function(n,t){if(t){var e=this,r=e.V,i=e.C||{},u=i[n]||ln;if(u.configurable){if(i[n]=B(u,t),o(r,n)&&u.writable)o(i,r)&&(r[n]=i.value);else if(u.configurable){if(f(t.get,K)){var a=e.G||(e.G={});a[n]=t.get}if(f(t.set,K)){var c=e.S||(e.S={});c[n]=t.set}}return e}}},sn.Del=function(n){var t=this,e=t.C,r=t.V,i=t.G,u=t.S,f=Q;return o(e,n)&&(i&&delete i[n],u&&delete u[n],delete r[n],delete e[n]),f},g.String=M,k.TypeofValue="string";var hn=k[H]=c(nn);hn.get=function(n){var t=this,e=t.V;if(isFinite(n)&&n%1===0)var r=e.charAt(n);else r=e[n];return r},hn.set=function(n,t){var e=this,r=e.V;return isFinite(n)&&n%1===0||(r[n]=t),t},g.Undefined=z,U.TypeofValue="undefined";var vn=U[H]=c(nn);vn[I]=p,vn[J]=p;var pn=new U});
//# sourceMappingURL=jScope.min.js.map
