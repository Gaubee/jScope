!function(n,t){"function"==typeof define&&define.amd?define([],function(){return t(n)}):t("object"==typeof exports?module.exports:n)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){function t(n,t){return n[n.length]=t,n}function e(n,t){for(var e=0,r=n.length;r>e;e+=1)t(n[e],e)}function r(n,t,e){return Q.call(n,t,e)}function u(n,t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}function i(n,t){return n.hasOwnProperty(t)&&n[t]}function o(n,t){return W.call(n,t)}function f(n,t){return n instanceof t}function a(n){return(n||"")+Math.random().toString(36).substr(2)}function c(n){return X[z]=n,new X}function s(n){return n[n.length-1]}function l(){return this.V&&this.V.valueOf()}function h(){return this.V+""}function v(n){return f(n,v)?n:Y[typeof n](n)}function p(){throw TypeError("Cannot convert undefined or null to object")}function V(n,t){t||(t={});var e=this;e.id=a("SC"),e.E={},e.C=[],e.R=n||{};var r=t.store;e.O=f(r,R)?r:R(f(r,Object)?r:{}),e.setParent(t.parent),e.returner=null,e.B=null;var u=t.onerror;f(u,J)&&e.on("error",u)}function d(n,t){var e=this;return(e.O.has(n)?e.O:e.P).get(n,t)}function y(n,t){return this.O.get(n,t)}function O(n,t){var e=this;return(e.O.has(n)?e.O:e.P).set(n,t)}function g(n,t){return this.O.set(n,t)}function w(n){var t=this;return(t.O.has(n)?t.O:t.P).TypeOf(n)}function b(n){return this.O.TypeOf(n)}function S(n){var t=this;return(t.O.has(n)?t.O:t.P).Del(n)}function T(n){return this.O.Del(n)}function C(){throw ReferenceError("Scope objects has been destroyed.")}function P(n){this.V=n}function G(n){return n?$true:$false}function j(n,t){this.V=n,this.A=t}function m(n,t){return j(n,t)}function E(n){this.V=n}function D(){return rn}function F(n){this.V=n}function N(n){var t;return t=isNaN(n)?un:n===1/0?on:n===-(1/0)?fn:new F(n)}function $(n){this.V=n,this.G=null,this.S=null,this.C={}}function x(n){var t=this;return o(t.V,n)||o(t.G,n)||o(t.S,n)}function A(n){var t=this,e=t.G,r=t.V;if(o(e,n))var u=e[n].call(r,n);else u=r[n];return u}function B(n,t,e){var r=this,u=r.S,i=r.V;if(o(u,n))u[n].call(i,n,t);else{var e=r.C;e[n]=e,i[n]=t}return t}function R(n){return null===n?rn:new $(n)}function q(n){this.V=n}function k(n){return new q(n)}function M(n){this.V=n}function U(){return ln}var z="prototype",H="valueOf",I="toString",J=Function,K=!0,L=!1,Q=Array[z].slice,W=(String[z],n.hasOwnProperty),X=J();"a"!="a"[0];V.Base=v;var Y={string:k,"boolean":G,number:N,"function":m,undefined:U,object:function(n){return(n?R:D)(n)}},Z=v[z]={has:function(n){return o(this.V,n)},get:function(n,t){var e=this.V[n];return f(e,v)||(e=ln),t?e.valueOf():e},set:function(n,t){return this.V[n]=v(t)},TypeOf:function(){return this.constructor.TypeofValue},destory:function(){delete this.V},equal:function(n){return this.V===(f(n,v)?n.V:n)},like:function(n){return this.V==(f(n,v)?n.V:n)}};Z[H]=l,Z[I]=h,n.jScope=V;var _=V.prototype={};_.on=function(n,e){var r=this,u=r.E;return t(u[n]||(u[n]=[]),e),r},_.off=function(n,t){var e=this,r=e.E;return u(r[n]||(r[n]=[]),t),e},_.emit=function(n){var t=this,u=i(t.E,n);if(u){var o=arguments.length>1&&r(arguments,1);e(u,function(n){o?n.apply(t,o):n.call(this)})}return t},_.push=function(n){var e=this,r=new V({},{parent:e});return t(e.C,r),nn=r,r},_.pop=function(n){var t=this,e=s(t.C);return e&&e.destroy(n)},_.setParent=function(n){var t=this;(t.P=n||null)?(t.get=d,t.set=O,t.TypeOf=w,t.Del=S):(t.get=y,t.set=g,t.TypeOf=b,t.Del=T)},_.get=d,_.set=O,_.Var=g,_.TypeOf=b,_.Del=T,_.destroy=function(n){var t=this;t.E=null,e(t.C,function(n){n.destroy()}),t.C=null,t.R=null,t.O=null,t.P&&(nn=t.P,u(nn.C,t),t.P=null);for(var r in _)t[r]=C;return t.returner=n,n};var nn=V.global=new V(n);V.current=function(){return nn},V.Boolean=G,P.TypeofValue="string";P[z]=c(Z);$true=new P(K),$false=new P(L),V.Function=m,j.TypeofValue="function";var tn=j[z]=c(Z);tn.run=function(n,t){var e=this;e.V.apply(n,t)},V.Null=D,E.TypeofValue="object";var en=E[z]=c(Z);en[H]=p,en[I]=p;var rn=new E(null);V.Number=N,F.TypeofValue="number";var un=(F[z]=c(Z),new F(NaN));un.equal=function(){return L};var on=new F(1/0),fn=new F(-(1/0));V.Object=R,$.getProp=function(n,t){if(f(n,$)||f(n,k)||f(n,N))var e=n.get(t);else n&&(e=n[t]);return e},$.TypeofValue="object";var an=$[z]=c(Z);an.has=function(n){return o(this.C,n)},an.get=function(n,t){var e=this;if(e.has(n))var r=e.G&&o(e.G,n)?e.G[n].call(e.V):e.V[n];else r=ln;return t?r?r.valueOf():r:v(r)},an.set=function(n,t,e){var r=this;return r.C[n]=e,t=v(t),r.S&&o(r.S,n)?r.S[n].call(r.V,t):r.V[n]=t,t},an.defGet=function(n,t,e){var r=this,u=r.G||(r.G={}),e=r.C;if(!(t instanceof Function))throw TypeError("getter must be an function.");e[n]=e,u[n]=t,r.get=A,r.has=x},an.defSet=function(n,t,e){var r=this,u=r.S||(r.S={}),e=r.C;if(!(t instanceof Function))throw TypeError("setter must be an function.");e[n]=e,u[n]=t,r.set=B,r.has=x},an.Del=function(n){var t=this,e=t.C,r=t.V,u=t.G,i=t.S,f=K;return o(e,n)&&(u&&delete u[n],i&&delete i[n],delete r[n],delete e[n]),f},V.String=k,q.TypeofValue="string";var cn=q[z]=c(Z);cn.get=function(n){var t=this,e=t.V;if(isFinite(n)&&n%1===0)var r=e.charAt(n);else r=e[n];return r},cn.set=function(n,t){var e=this,r=e.V;return isFinite(n)&&n%1===0||(r[n]=t),t},V.Undefined=U,M.TypeofValue="undefined";var sn=M[z]=c(Z);sn[H]=p,sn[I]=p;var ln=new M});
//# sourceMappingURL=jScope.min.js.map
